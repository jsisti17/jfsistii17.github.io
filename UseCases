<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Industry and Use Case Selector with Spectrum</title>

  <!-- Spectrum CSS Files -->
  <link rel="stylesheet" href="https://unpkg.com/@spectrum-css/vars/dist/spectrum-global.css">
  <link rel="stylesheet" href="https://unpkg.com/@spectrum-css/vars/dist/spectrum-medium.css">
  <link rel="stylesheet" href="https://unpkg.com/@spectrum-css/vars/dist/spectrum-light.css">
  <link rel="stylesheet" href="https://unpkg.com/@spectrum-css/dropdown/dist/index-vars.css">
  <link rel="stylesheet" href="https://unpkg.com/@spectrum-css/button/dist/index-vars.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

  <style>
    body { font-family: 'Adobe Clean', sans-serif; }
    .container { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
    .form-group { margin-bottom: 15px; }
    .result { margin-top: 20px; padding: 10px; border-top: 1px solid #ddd; }
  </style>
</head>
<body>

<div class="container">
  <h1>Select Industries and Use Cases</h1>

  <!-- Industry Selection -->
  <div class="form-group">
    <label for="industry" class="spectrum-FieldLabel">Primary Industry</label>
    <select id="industry" class="spectrum-Dropdown">
      <option value="">Select an Industry</option>
    </select>
  </div>

  <!-- Alternate Industry Selection -->
  <div class="form-group">
    <label for="altIndustry" class="spectrum-FieldLabel">Alternate Industry</label>
    <select id="altIndustry" class="spectrum-Dropdown" multiple>
    </select>
  </div>

  <!-- Use Case Selection -->
  <div class="form-group">
    <label for="useCases" class="spectrum-FieldLabel">Use Cases</label>
    <select id="useCases" class="spectrum-Dropdown" multiple>
    </select>
  </div>

  <!-- Submit Button -->
  <button onclick="showSelections()" class="spectrum-Button spectrum-Button--primary">
    <span class="spectrum-Button-label">Submit</span>
  </button>

  <!-- Results Display -->
  <div class="result" id="resultDisplay">
    <h3>Selected Options:</h3>
    <p id="industryDisplay">Primary Industry: <span></span></p>
    <p id="altIndustryDisplay">Alternate Industry: <span></span></p>
    <p id="useCasesDisplay">Use Cases: <span></span></p>
  </div>
</div>

<script>
  // Function to load and parse the CSV file
  function loadCSV() {
    Papa.parse("data.csv", {
      download: true,
      header: true, // This makes sure the first row is treated as headers
      complete: function(results) {
        populateDropdowns(results.data);
      }
    });
  }

  // Function to populate dropdowns based on the CSV data
  function populateDropdowns(data) {
    const industryDropdown = document.getElementById('industry');
    const altIndustryDropdown = document.getElementById('altIndustry');
    const useCasesDropdown = document.getElementById('useCases');

    // Clear any existing options
    industryDropdown.innerHTML = "<option value=''>Select an Industry</option>";
    altIndustryDropdown.innerHTML = "";
    useCasesDropdown.innerHTML = "";

    // Populate dropdowns with data
    data.forEach(row => {
      // Primary Industry (single select)
      let industryOption = document.createElement("option");
      industryOption.value = row.Industry;
      industryOption.textContent = row.Industry;
      industryDropdown.appendChild(industryOption);

      // Alternate Industry (multi-select)
      let altOption = document.createElement("option");
      altOption.value = row["Alternate Industry"];
      altOption.textContent = row["Alternate Industry"];
      altIndustryDropdown.appendChild(altOption);

      // Use Cases (multi-select)
      let useCaseOption = document.createElement("option");
      useCaseOption.value = row["Use Case"];
      useCaseOption.textContent = row["Use Case"];
      useCasesDropdown.appendChild(useCaseOption);
    });
  }

  // Function to display selected options
  function showSelections() {
    const industry = document.getElementById('industry').value;
    const altIndustryOptions = document.getElementById('altIndustry').selectedOptions;
    const useCaseOptions = document.getElementById('useCases').selectedOptions;

    document.getElementById('industryDisplay').querySelector('span').innerText = industry || "None selected";
    document.getElementById('altIndustryDisplay').querySelector('span').innerText = Array.from(altIndustryOptions).map(option => option.value).join(', ') || "None selected";
    document.getElementById('useCasesDisplay').querySelector('span').innerText = Array.from(useCaseOptions).map(option => option.value).join(', ') || "None selected";
  }

  // Run loadCSV function when the page loads
  window.onload = loadCSV;
</script>

</body>
</html>
