<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Industry and Use Case Selector</title>
  <style>
    body { font-family: Arial, sans-serif; }
    .container { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
    .form-group { margin-bottom: 15px; }
    label { display: block; font-weight: bold; margin-bottom: 5px; }
    select, button { width: 100%; padding: 10px; font-size: 16px; }
    .result { margin-top: 20px; padding: 10px; border-top: 1px solid #ddd; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>
<body>

<div class="container">
  <h1>Select Industries and Use Cases</h1>

  <!-- Industry Selection -->
  <div class="form-group">
    <label for="industry">Primary Industry</label>
    <select id="industry">
      <option value="">Select an Industry</option>
    </select>
  </div>

  <!-- Alternate Industry Selection -->
  <div class="form-group">
    <label for="altIndustry">Alternate Industry</label>
    <select id="altIndustry" multiple>
    </select>
  </div>

  <!-- Use Case Selection -->
  <div class="form-group">
    <label for="useCases">Use Cases</label>
    <select id="useCases" multiple>
    </select>
  </div>

  <!-- Submit Button -->
  <button onclick="showSelections()">Submit</button>

  <!-- Results Display -->
  <div class="result" id="resultDisplay">
    <h3>Selected Options:</h3>
    <p id="industryDisplay">Primary Industry: <span></span></p>
    <p id="altIndustryDisplay">Alternate Industry: <span></span></p>
    <p id="useCasesDisplay">Use Cases: <span></span></p>
  </div>
</div>

<script>
  // Function to load and parse the CSV file
  function loadCSV() {
    Papa.parse("data.csv", {
      download: true,
      header: true, // This makes sure the first row is treated as headers
      complete: function(results) {
        const data = results.data;
        populateDropdowns(data);
      }
    });
  }

  // Function to populate dropdowns based on the CSV data
  function populateDropdowns(data) {
    const industryDropdown = document.getElementById('industry');
    const altIndustryDropdown = document.getElementById('altIndustry');
    const useCasesDropdown = document.getElementById('useCases');

    // Clear any existing options
    industryDropdown.innerHTML = "<option value=''>Select an Industry</option>";
    altIndustryDropdown.innerHTML = "";
    useCasesDropdown.innerHTML = "";

    // Populate dropdowns with data
    data.forEach(row => {
      // Primary Industry (single select)
      if (row.industry) {
          let industryOption = document.createElement("option");
          industryOption.value = row.industry;
          industryOption.textContent = row.industry;
          industryDropdown.appendChild(industryOption);
      }

      // Alternate Industry (multi-select)
      if (row.altIndustry) {
          let altOption = document.createElement("option");
          altOption.value = row.altIndustry;
          altOption.textContent = row.altIndustry;
          altIndustryDropdown.appendChild(altOption);
      }

      // Use Cases (multi-select)
      if (row.useCases) {
          let useCaseOption = document.createElement("option");
          useCaseOption.value = row.useCases;
          useCaseOption.textContent = row.useCases;
          useCasesDropdown.appendChild(useCaseOption);
      }
    });
  }

  // Function to display selected options
  function showSelections() {
    const industry = document.getElementById('industry').value;
    const altIndustryOptions = document.getElementById('altIndustry').selectedOptions;
    const useCaseOptions = document.getElementById('useCases').selectedOptions;

    document.getElementById('industryDisplay').querySelector('span').innerText = industry || "None selected";
    document.getElementById('altIndustryDisplay').querySelector('span').innerText = Array.from(altIndustryOptions).map(option => option.value).join(', ') || "None selected";
    document.getElementById('useCasesDisplay').querySelector('span').innerText = Array.from(useCaseOptions).map(option => option.value).join(', ') || "None selected";
  }

  // Run loadCSV function when the page loads
  window.onload = loadCSV;
</script>

</body>
</html>
